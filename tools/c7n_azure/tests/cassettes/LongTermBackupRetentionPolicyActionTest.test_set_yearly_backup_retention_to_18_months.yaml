interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/providers/Microsoft.Sql/servers?api-version=2015-05-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR5dZ
        uc4/evS9X/zR22I5++jRR5e7e+Odj0YfrepqlddtkTcfPfrFH2WzRbEsmrbO2qp+Xl0US2o6XTdt
        NSuyJTW/zOumqPCpvt+0WUuAP3qVZ7Nr+vt8XZbXP7HOyuK8yGdPq0VWLF9kCzSZTtu8aZtfVDZ5
        TXDeVsv1vU/Xl+u8qffHs6zNJlmTj68Iv+qqGS/z9qNfMvqorKZZKz3mWdOumz3qpMAI7jbrSTOt
        ixW+bu7ODh48PD/fn2wfTGYPt/fvHxxsP5xMdrbv7+Z7Bw/v53v79z+9W+dNta6n+ed1tV41d4HP
        728Ruku0uCxmNMK7XxTTumqq83b8+heVd+Xr5u6mARBWy5uHSa3a6xVaRXv46Jd8/5f8P1Clfeis
        AQAA
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:28 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - a2514e38-78f4-4360-81fe-d972353cad8f
      x-ms-ratelimit-remaining-subscription-reads:
      - '11992'
      x-ms-request-id:
      - bfd57720-d8d0-4e86-90b2-f07584c013ac
      x-ms-routing-request-id:
      - WESTUS2:20190506T172928Z:a2514e38-78f4-4360-81fe-d972353cad8f
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases?api-version=2017-10-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR5dZ
        uc4/evS9X/xR83b90aNf/NEyW9DfH71us+Usq2cfjT5qi7wOP5lmq2xatNcfPdrd+SWjj94Wyxk1
        uNzdG++M1g21Hn20qqtVXtOrDYBOq7LM2qJaUrPXP/H8939Ofyx3f//P82VeZ+Xvf/Jy9/c/Ofv9
        j1/Ti4vs3eviB/mT6xav7n16sH/v/v79T3d2dkYfNW3WrunTj75clsUyp9azrM0mWZOfAYH797Od
        nemnD7c/nc2y7f3ZZHf7IL832c4fZPv3750/mO3cP6B3pnVO3VfLp1mLke7t7D7c3rm/vbP7Zvfh
        o73dR/cejnd27/0UWq7rOl+2r/P6spjmX05+Op+2xWX+Qkm0Q03q/Bet86bNZ5sazfLzbF0SnGkF
        El4/r6aMAX0/JfhEAhoVdUeDKauLk9sT6wfVMn+Vz9YEddl+9Og8K5t89FGe1SURvn1F/6/qPDrO
        ezuPdg/G9/cfYJxEkNnraVai2dOiySZljmnGx6/yVVlMs5NqjQ5oDgxNvia3ELuUbvR51tCE7lGj
        AhN4t1lPmmldrPB1c3d28ODh+fn+ZPtgMnu4vX//4GD74WSys31/N987eHg/3yO+uFvnTbWup/nn
        dbVeNXeJa9rfv/lFRIf6Mq/vEhteFrO8bu5+UUzrqqnO2/HrX1Tela+bu9MpXrDt31bL9b1P15c0
        pfX+XcNcaFZWy4s2rxd13tLoCb3ZhLDW4Q993V6v8HW8awv9o18y6krfyzpfFOsFQAg53QceNffu
        EzV/NoVvd//B/sG9T/cPbhQ9ajm5N83ubU/Pd3a393d37m1PPt3d3d7Zm+zf39vJP304Y1YglgIm
        UZbc23u0fzDe32GWNGxGxIpI1ctdanKT6HGj/xeK3t7+o53d8b0HrGKIIFb0TpfDkrdLOCpJvh6n
        EKv8f1Lw0IyFSQfsffK1xev1NbENSKQ0s387kvXsWmPaLLJldpHPnlCj/5fRjZCj178Jyb+3t7e7
        t0fWYY80/g2i/+n57sEs393b3skOJtv7+YOd7QnZz+2DB9OHewfTbHLw8CG9s1n0dx7tfzr+9BaS
        L1MFxr1J/F3LH7IOoIFakf561pQxp1doHgfZk/jz/4PyvCA8aUxWmu3ft5Xl7/+S/wdjpQSmtAoA
        AA==
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:28 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 699afc06-a941-4059-909f-fbf77de7f0b1
      x-ms-ratelimit-remaining-subscription-reads:
      - '11990'
      x-ms-request-id:
      - a2de863b-644a-4a8b-ac30-dd87baac1cb2
      x-ms-routing-request-id:
      - WESTUS2:20190506T172929Z:699afc06-a941-4059-909f-fbf77de7f0b1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases/cctestdb/backupLongTermRetentionPolicies/default?api-version=2017-03-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR6u6
        WuV1W+TNR49+8UdXef62vH6Vt/myLarlR48+erm78/Sj0UeLatnOO998+l364jrP6s7ne78PfQ5I
        X57/PvTtR4/2dn7J6KNiRt/dbdaTZloXK7Rt7s4OHjw8P9+fbB9MZg+39+8fHGw/nEx2tu/v5nsH
        D+/ne/v3P71b5021rqf553W1XjV327xpf//mF5VNXl/m9V3C/7KY5XVz94tiWldNdd6OX/+i8q58
        3dydTvGCbf+2Wq7vfbq+XOdNvX93lrXZJGty02w2uTvJpm/Xq+fV8uJNXi/suF5WZTElIt2d5efZ
        umxphMtskdOQ3Aft9QofxPFwXd3Qw0e/5P8BdmCbcZUBAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:29 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 74fe7687-2577-4da5-ac5a-52c45efa8b4a
      x-ms-ratelimit-remaining-subscription-reads:
      - '11986'
      x-ms-request-id:
      - 660df1b6-b283-4fc0-a630-e077762e0a5b
      x-ms-routing-request-id:
      - WESTUS2:20190506T172929Z:74fe7687-2577-4da5-ac5a-52c45efa8b4a
    status:
      code: 200
      message: OK
- request:
    body: mock_body
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '115'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases/cctestdb/backupLongTermRetentionPolicies/default?api-version=2017-03-01-preview
  response:
    body:
      string: '{"operation":"UpsertDatabaseBackupArchivalPolicyV2","startTime":"2019-05-06T17:29:30.12Z"}'
    headers:
      Azure-AsyncOperation:
      - https://management.azure.com/subscriptions/d879ff4b-8bd9-4588-9bb0-51e2895e2456/resourceGroups/test_sqlserver/providers/Microsoft.Sql/locations/eastus2/longTermRetentionPolicyAzureAsyncOperation/4bf74832-3212-40ab-92d2-41b800ff430a?api-version=2017-03-01-preview
      Cache-Control:
      - no-cache
      Content-Length:
      - '90'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:29 GMT
      Expires:
      - '-1'
      Location:
      - https://management.azure.com/subscriptions/d879ff4b-8bd9-4588-9bb0-51e2895e2456/resourceGroups/test_sqlserver/providers/Microsoft.Sql/locations/eastus2/longTermRetentionPolicyOperationResults/4bf74832-3212-40ab-92d2-41b800ff430a?api-version=2017-03-01-preview
      Pragma:
      - no-cache
      Retry-After:
      - '15'
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 9428ad6c-77e1-44be-b3f4-ee31359c592d
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-ms-request-id:
      - 4bf74832-3212-40ab-92d2-41b800ff430a
      x-ms-routing-request-id:
      - WESTUS2:20190506T172930Z:9428ad6c-77e1-44be-b3f4-ee31359c592d
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/locations/eastus2/longTermRetentionPolicyAzureAsyncOperation/ea42f556-5106-4743-99b0-c129bfa71a47?api-version=2017-03-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR8ts
        kX/06KP9yfmD/YN7e9v39nb3tvd3ssn2w70Z/bY7OdjZOT/fv7eTfTT6qGmzdt1Q+9fr6TTPZ/lM
        PqzbNwXD2dvZfbi9c39759M3uw8e7T18dG9nvLv3Ux/9kv8HUNbUs2oAAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:44 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Retry-After:
      - '15'
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 2c29d156-a8ab-4988-95b8-f82aed85e301
      x-ms-ratelimit-remaining-subscription-reads:
      - '11994'
      x-ms-request-id:
      - 3108e21c-2618-4cb6-9381-d5c344f5f4b3
      x-ms-routing-request-id:
      - WESTUS2:20190506T172945Z:2c29d156-a8ab-4988-95b8-f82aed85e301
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases/cctestdb/backupLongTermRetentionPolicies/default?api-version=2017-03-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR6u6
        WuV1W+TNR49+8UdXef62vH6Vt/myLarlR48+erm78/Sj0UeLatnOO998+l364jrP6s7nuwdf0BcA
        9eX570Nff/Rob+eXjD4qZvTl3WY9aaZ1sULj5u7s4MHD8/P9yfbBZPZwe//+wcH2w8lkZ/v+br53
        8PB+vrd//9O7dd5U63qaf15X61Vzt82b9vdvflHZ5PVlXt+lAVwWs7xu7n5RTOuqqc7b8etfVN6V
        r5u70ylesO3fVsv1vU/Xl+u8qffvzrI2m2RNbprNJncn2fTtevW8Wl68yeuFHdjLqiymRKW7s/w8
        W5ctjXCZLXIakvugvV7hgzgerqsbevjol/w/b1muzZYBAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:45 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 89de4419-5cd2-4f23-8502-8a2c27626b70
      x-ms-ratelimit-remaining-subscription-reads:
      - '11998'
      x-ms-request-id:
      - 639e08b1-1b79-43a7-ba72-30682eec95ec
      x-ms-routing-request-id:
      - WESTUS2:20190506T172945Z:89de4419-5cd2-4f23-8502-8a2c27626b70
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases/cctestdb/backupLongTermRetentionPolicies/default?api-version=2017-03-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR6u6
        WuV1W+TNR49+8UdXef62vH6Vt/myLarlR48+erm78/Sj0UeLatnOO998+l364jrP6s7nuwdf0BcA
        9eX570Nff/Rob+eXjD4qZvTl3WY9aaZ1sULj5u7s4MHD8/P9yfbBZPZwe//+wcH2w8lkZ/v+br53
        8PB+vrd//9O7dd5U63qaf15X61Vzt82b9vdvflHZ5PVlXt+lAVwWs7xu7n5RTOuqqc7b8etfVN6V
        r5u70ylesO3fVsv1vU/Xl+u8qffvzrI2m2RNbprNJncn2fTtevW8Wl68yeuFHdjLqiymRKW7s/w8
        W5ctjXCZLXIakvugvV7hgzgerqsbevjol/w/b1muzZYBAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:45 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 3cee6407-0a5e-44dc-b795-7e2ba6e95b6f
      x-ms-ratelimit-remaining-subscription-reads:
      - '11990'
      x-ms-request-id:
      - 55632d66-fa6d-42aa-807a-a018e1e210bb
      x-ms-routing-request-id:
      - WESTUS2:20190506T172945Z:3cee6407-0a5e-44dc-b795-7e2ba6e95b6f
    status:
      code: 200
      message: OK
- request:
    body: mock_body
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '96'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases/cctestdb/backupLongTermRetentionPolicies/default?api-version=2017-03-01-preview
  response:
    body:
      string: '{"error":{"code":"InvalidParameterValue","message":"Invalid value given
        for parameter properties. Specify a valid parameter value."}}'
    headers:
      Cache-Control:
      - no-cache
      Content-Length:
      - '133'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:45 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 73cfc3b6-f90c-4530-866b-c75c88bb77cc
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-ms-request-id:
      - 9146e5d6-7293-4967-a755-250830c5cd59
      x-ms-routing-request-id:
      - WESTUS2:20190506T172946Z:73cfc3b6-f90c-4530-866b-c75c88bb77cc
    status:
      code: 400
      message: Bad Request
version: 1
