interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/providers/Microsoft.Sql/servers?api-version=2015-05-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR5dZ
        uc4/evS9X/zR22I5++jRR5e7e+Odj0YfrepqlddtkTcfPfrFH2WzRbEsmrbO2qp+Xl0US2o6XTdt
        NSuyJTW/zOumqPCpvt+0WUuAP3qVZ7Nr+vt8XZbXP7HOyuK8yGdPq0VWLF9kCzSZTtu8aZtfVDZ5
        TXDeVsv1vU/Xl+u8qffHs6zNJlmTj68Iv+qqGS/z9qNfMvqorKZZKz3mWdOumz3qpMAI7jbrSTOt
        ixW+bu7ODh48PD/fn2wfTGYPt/fvHxxsP5xMdrbv7+Z7Bw/v53v79z+9W+dNta6n+ed1tV41d4HP
        728Ruku0uCxmNMK7XxTTumqq83b8+heVd+Xr5u6mARBWy5uHSa3a6xVaRXv46Jd8/5f8P1Clfeis
        AQAA
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:28:47 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 27b3b3f9-4467-4a2f-ac9a-16069b891ecc
      x-ms-ratelimit-remaining-subscription-reads:
      - '11980'
      x-ms-request-id:
      - d4bd2732-3e65-4ef3-be8d-133ec1c33ea8
      x-ms-routing-request-id:
      - WESTUS2:20190506T172847Z:27b3b3f9-4467-4a2f-ac9a-16069b891ecc
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases?api-version=2017-10-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR5dZ
        uc4/evS9X/xR83b90aNf/NEyW9DfH71us+Usq2cfjT5qi7wOP5lmq2xatNcfPdrd+SWjj94Wyxk1
        uNzdG++M1g21Hn20qqtVXtOrDYBOq7LM2qJaUrPXP/H8939Ofyx3f//P82VeZ+Xvf/Jy9/c/Ofv9
        j1/Ti4vs3eviB/mT6xav7n16sH/v/v79T3d2dkYfNW3WrunTj75clsUyp9azrM0mWZOfAYH797Od
        nemnD7c/nc2y7f3ZZHf7IL832c4fZPv3750/mO3cP6B3pnVO3VfLp1mLke7t7D7c3rm/vbP7Zvfh
        o73dR/cejnd27/0UWq7rOl+2r/P6spjmX05+Op+2xWX+Qkm0Q03q/Bet86bNZ5sazfLzbF0SnGkF
        El4/r6aMAX0/JfhEAhoVdUeDKauLk9sT6wfVMn+Vz9YEddl+9Og8K5t89FGe1SURvn1F/6/qPDrO
        ezuPdg/G9/cfYJxEkNnraVai2dOiySZljmnGx6/yVVlMs5NqjQ5oDgxNvia3ELuUbvR51tCE7lGj
        AhN4t1lPmmldrPB1c3d28ODh+fn+ZPtgMnu4vX//4GD74WSys31/N987eHg/3yO+uFvnTbWup/nn
        dbVeNXeJa9rfv/lFRIf6Mq/vEhteFrO8bu5+UUzrqqnO2/HrX1Tela+bu9MpXrDt31bL9b1P15c0
        pfX+XcNcaFZWy4s2rxd13tLoCb3ZhLDW4Q993V6v8HW8awv9o18y6krfyzpfFOsFQAg53QceNffu
        EzV/NoVvd//B/sG9T/cPbhQ9ajm5N83ubU/Pd3a393d37m1PPt3d3d7Zm+zf39vJP304Y1YglgIm
        UZbc23u0fzDe32GWNGxGxIpI1ctdanKT6HGj/xeK3t7+o53d8b0HrGKIIFb0TpfDkrdLOCpJvh6n
        EKv8f1Lw0IyFSQfsffK1xev1NbENSKQ0s387kvXsWmPaLLJldpHPnlCj/5fRjZCj178Jyb+3t7e7
        t0fWYY80/g2i/+n57sEs393b3skOJtv7+YOd7QnZz+2DB9OHewfTbHLw8CG9s1n0dx7tfzr+9BaS
        L1MFxr1J/F3LH7IOoIFakf561pQxp1doHgfZk/jz/4PyvCA8aUxWmu3ft5Xl7/+S/wdjpQSmtAoA
        AA==
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:28:47 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - a6380f92-8035-4423-9b9b-2d53e34038c8
      x-ms-ratelimit-remaining-subscription-reads:
      - '11989'
      x-ms-request-id:
      - ab37329c-c8d6-4dfa-8659-9be59f2d6dde
      x-ms-routing-request-id:
      - WESTUS2:20190506T172847Z:a6380f92-8035-4423-9b9b-2d53e34038c8
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases/cctestdb/backupLongTermRetentionPolicies/default?api-version=2017-03-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR6u6
        WuV1W+TNR49+8UdXef62vH6Vt/myLarlR48+erm7//Sj0UeLatnOO9/c+4K+uM6zuvP53u9DnwPS
        l+e/D3370aO9nV8y+qiY0Xd3m/WkmdbFCm2bu7ODBw/Pz/cn2weT2cPt/fsHB9sPJ5Od7fu7+d7B
        w/v53v79T+/WeVOt62n+eV2tV83dNm/a37/5RWWT15d5fZfwvyxmed3c/aKY1lVTnbfj17+ovCtf
        N3enU7xg27+tlut7n64v13lT79+dZW02yZrcNJtN7k6y6dv16nm1vHiT1ws7rpdVWUyJSHdn+Xm2
        Llsa4TJb5DQk90F7vcIHcTxcVzf08NEv+X8A6/6dGpUBAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:28:47 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - bf6b23ca-b317-4097-bb85-f927ee549ea0
      x-ms-ratelimit-remaining-subscription-reads:
      - '11976'
      x-ms-request-id:
      - 9d03cf37-85ea-4282-a3fb-1abeaeb4b5ec
      x-ms-routing-request-id:
      - WESTUS2:20190506T172847Z:bf6b23ca-b317-4097-bb85-f927ee549ea0
    status:
      code: 200
      message: OK
- request:
    body: mock_body
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '114'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases/cctestdb/backupLongTermRetentionPolicies/default?api-version=2017-03-01-preview
  response:
    body:
      string: '{"operation":"UpsertDatabaseBackupArchivalPolicyV2","startTime":"2019-05-06T17:28:48.313Z"}'
    headers:
      Azure-AsyncOperation:
      - https://management.azure.com/subscriptions/d879ff4b-8bd9-4588-9bb0-51e2895e2456/resourceGroups/test_sqlserver/providers/Microsoft.Sql/locations/eastus2/longTermRetentionPolicyAzureAsyncOperation/a7d4c7e6-59c5-4556-a621-9250fa309579?api-version=2017-03-01-preview
      Cache-Control:
      - no-cache
      Content-Length:
      - '91'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:28:48 GMT
      Expires:
      - '-1'
      Location:
      - https://management.azure.com/subscriptions/d879ff4b-8bd9-4588-9bb0-51e2895e2456/resourceGroups/test_sqlserver/providers/Microsoft.Sql/locations/eastus2/longTermRetentionPolicyOperationResults/a7d4c7e6-59c5-4556-a621-9250fa309579?api-version=2017-03-01-preview
      Pragma:
      - no-cache
      Retry-After:
      - '15'
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 295f150a-9b97-46a0-b32e-8beea6d31e59
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-ms-request-id:
      - a7d4c7e6-59c5-4556-a621-9250fa309579
      x-ms-routing-request-id:
      - WESTUS2:20190506T172848Z:295f150a-9b97-46a0-b32e-8beea6d31e59
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/locations/eastus2/longTermRetentionPolicyAzureAsyncOperation/ea42f556-5106-4743-99b0-c129bfa71a47?api-version=2017-03-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR8ts
        kX/06KPswWx/+iD/dPv+w+n97f379z/dzj7d291+uHd/5zy7t/Pw/oOHH40+atqsXTfU/vV6Os3z
        WT6TD+v2TcFw9nZ2H27v3N/e+fTN7oNHeweP9g/G93bv/dRHv+T/AU1swk9rAAAA
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:03 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Retry-After:
      - '15'
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 992b0733-7c8f-4069-af17-43826ef58bb7
      x-ms-ratelimit-remaining-subscription-reads:
      - '11988'
      x-ms-request-id:
      - 66f93e09-41fb-4cb3-8035-a01d2d22f640
      x-ms-routing-request-id:
      - WESTUS2:20190506T172904Z:992b0733-7c8f-4069-af17-43826ef58bb7
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases/cctestdb/backupLongTermRetentionPolicies/default?api-version=2017-03-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR6u6
        WuV1W+TNR49+8UdXef62vH6Vt/myLarlR48+erm7//Sj0UeLatnOO998+l364jrP6s7ne78PfQ5I
        X57/PvTtR4/2dn7J6KNiRt/dbdaTZloXK7Rt7s4OHjw8P9+fbB9MZg+39+8fHGw/nEx2tu/v5nsH
        D+/ne/v3P71b5021rqf553W1XjV327xpf//mF5VNXl/m9V3C/7KY5XVz94tiWldNdd6OX/+i8q58
        3dydTvGCbf+2Wq7vfbq+XOdNvX93lrXZJGty02w2uTvJpm/Xq+fV8uJNXi/suF5WZTElIt2d5efZ
        umxphMtskdOQ3Aft9QofxPFwXd3Qw0e/5P8BINACk5UBAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:04 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 92c9dace-820c-493c-a954-01e857854608
      x-ms-ratelimit-remaining-subscription-reads:
      - '11988'
      x-ms-request-id:
      - 99e407be-fb05-43fc-83cf-e460da616e47
      x-ms-routing-request-id:
      - WESTUS2:20190506T172904Z:92c9dace-820c-493c-a954-01e857854608
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases/cctestdb/backupLongTermRetentionPolicies/default?api-version=2017-03-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR6u6
        WuV1W+TNR49+8UdXef62vH6Vt/myLarlR48+erm7//Sj0UeLatnOO998+l364jrP6s7ne78PfQ5I
        X57/PvTtR4/2dn7J6KNiRt/dbdaTZloXK7Rt7s4OHjw8P9+fbB9MZg+39+8fHGw/nEx2tu/v5nsH
        D+/ne/v3P71b5021rqf553W1XjV327xpf//mF5VNXl/m9V3C/7KY5XVz94tiWldNdd6OX/+i8q58
        3dydTvGCbf+2Wq7vfbq+XOdNvX93lrXZJGty02w2uTvJpm/Xq+fV8uJNXi/suF5WZTElIt2d5efZ
        umxphMtskdOQ3Aft9QofxPFwXd3Qw0e/5P8BINACk5UBAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:06 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - eda2f35c-07c9-44b8-949f-9a8e6963fdc5
      x-ms-ratelimit-remaining-subscription-reads:
      - '11995'
      x-ms-request-id:
      - dc9e96a0-57ec-44a2-b548-60b7e7fe5721
      x-ms-routing-request-id:
      - WESTUS2:20190506T172906Z:eda2f35c-07c9-44b8-949f-9a8e6963fdc5
    status:
      code: 200
      message: OK
- request:
    body: mock_body
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '96'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases/cctestdb/backupLongTermRetentionPolicies/default?api-version=2017-03-01-preview
  response:
    body:
      string: '{"error":{"code":"InvalidParameterValue","message":"Invalid value given
        for parameter properties. Specify a valid parameter value."}}'
    headers:
      Cache-Control:
      - no-cache
      Content-Length:
      - '133'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:06 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 929990ad-4b11-4b0c-9619-1eac9ac268d5
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-ms-request-id:
      - 6e7e0891-ea1e-4e41-ac5f-99f3f9ccac25
      x-ms-routing-request-id:
      - WESTUS2:20190506T172906Z:929990ad-4b11-4b0c-9619-1eac9ac268d5
    status:
      code: 400
      message: Bad Request
version: 1
