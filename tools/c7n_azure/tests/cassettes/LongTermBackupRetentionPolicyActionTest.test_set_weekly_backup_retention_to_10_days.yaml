interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/providers/Microsoft.Sql/servers?api-version=2015-05-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR5dZ
        uc4/evS9X/zR22I5++jRR5e7e+Odj0YfrepqlddtkTcfPfrFH2WzRbEsmrbO2qp+Xl0US2o6XTdt
        NSuyJTW/zOumqPCpvt+0WUuAP3qVZ7Nr+vt8XZbXP7HOyuK8yGdPq0VWLF9kCzSZTtu8aZtfVDZ5
        TXDeVsv1vU/Xl+u8qffHs6zNJlmTj68Iv+qqGS/z9qNfMvqorKZZKz3mWdOumz3qpMAI7jbrSTOt
        ixW+bu7ODh48PD/fn2wfTGYPt/fvHxxsP5xMdrbv7+Z7Bw/v53v79z+9W+dNta6n+ed1tV41d4HP
        728Ruku0uCxmNMK7XxTTumqq83b8+heVd+Xr5u6mARBWy5uHSa3a6xVaRXv46Jd8/5f8P1Clfeis
        AQAA
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:06 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 827ebe54-43ec-4a14-9d4a-17b7e712f43e
      x-ms-ratelimit-remaining-subscription-reads:
      - '11986'
      x-ms-request-id:
      - 2013cdee-fe42-4f25-9ef7-8d403b168a86
      x-ms-routing-request-id:
      - WESTUS2:20190506T172906Z:827ebe54-43ec-4a14-9d4a-17b7e712f43e
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases?api-version=2017-10-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR5dZ
        uc4/evS9X/xR83b90aNf/NEyW9DfH71us+Usq2cfjT5qi7wOP5lmq2xatNcfPdrd+SWjj94Wyxk1
        uNzdG++M1g21Hn20qqtVXtOrDYBOq7LM2qJaUrPXP/H8939Ofyx3f//P82VeZ+Xvf/Jy9/c/Ofv9
        j1/Ti4vs3eviB/mT6xav7n16sH/v/v79T3d2dkYfNW3WrunTj75clsUyp9azrM0mWZOfAYH797Od
        nemnD7c/nc2y7f3ZZHf7IL832c4fZPv3750/mO3cP6B3pnVO3VfLp1mLke7t7D7c3rm/vbP7Zvfh
        o73dR/cejnd27/0UWq7rOl+2r/P6spjmX05+Op+2xWX+Qkm0Q03q/Bet86bNZ5sazfLzbF0SnGkF
        El4/r6aMAX0/JfhEAhoVdUeDKauLk9sT6wfVMn+Vz9YEddl+9Og8K5t89FGe1SURvn1F/6/qPDrO
        ezuPdg/G9/cfYJxEkNnraVai2dOiySZljmnGx6/yVVlMs5NqjQ5oDgxNvia3ELuUbvR51tCE7lGj
        AhN4t1lPmmldrPB1c3d28ODh+fn+ZPtgMnu4vX//4GD74WSys31/N987eHg/3yO+uFvnTbWup/nn
        dbVeNXeJa9rfv/lFRIf6Mq/vEhteFrO8bu5+UUzrqqnO2/HrX1Tela+bu9MpXrDt31bL9b1P15c0
        pfX+XcNcaFZWy4s2rxd13tLoCb3ZhLDW4Q993V6v8HW8awv9o18y6krfyzpfFOsFQAg53QceNffu
        EzV/NoVvd//B/sG9T/cPbhQ9ajm5N83ubU/Pd3a393d37m1PPt3d3d7Zm+zf39vJP304Y1YglgIm
        UZbc23u0fzDe32GWNGxGxIpI1ctdanKT6HGj/xeK3t7+o53d8b0HrGKIIFb0TpfDkrdLOCpJvh6n
        EKv8f1Lw0IyFSQfsffK1xev1NbENSKQ0s387kvXsWmPaLLJldpHPnlCj/5fRjZCj178Jyb+3t7e7
        t0fWYY80/g2i/+n57sEs393b3skOJtv7+YOd7QnZz+2DB9OHewfTbHLw8CG9s1n0dx7tfzr+9BaS
        L1MFxr1J/F3LH7IOoIFakf561pQxp1doHgfZk/jz/4PyvCA8aUxWmu3ft5Xl7/+S/wdjpQSmtAoA
        AA==
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:06 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - f2d04043-38c9-4057-9f7b-1d8e8b7a5d9d
      x-ms-ratelimit-remaining-subscription-reads:
      - '11981'
      x-ms-request-id:
      - be5503b8-4381-4bfb-9330-deb570f7cc9f
      x-ms-routing-request-id:
      - WESTUS2:20190506T172907Z:f2d04043-38c9-4057-9f7b-1d8e8b7a5d9d
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases/cctestdb/backupLongTermRetentionPolicies/default?api-version=2017-03-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR6u6
        WuV1W+TNR49+8UdXef62vH6Vt/myLarlR48+erm7//Sj0UeLatnOO998+l364jrP6s7ne78PfQ5I
        X57/PvTtR4/2dn7J6KNiRt/dbdaTZloXK7Rt7s4OHjw8P9+fbB9MZg+39+8fHGw/nEx2tu/v5nsH
        D+/ne/v3P71b5021rqf553W1XjV327xpf//mF5VNXl/m9V3C/7KY5XVz94tiWldNdd6OX/+i8q58
        3dydTvGCbf+2Wq7vfbq+XOdNvX93lrXZJGty02w2uTvJpm/Xq+fV8uJNXi/suF5WZTElIt2d5efZ
        umxphMtskdOQ3Aft9QofxPFwXd3Qw0e/5P8BINACk5UBAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:07 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 985090da-b246-48b4-963b-8f6d05e03129
      x-ms-ratelimit-remaining-subscription-reads:
      - '11986'
      x-ms-request-id:
      - 4cc1489a-7d56-4604-87b4-d5aa2b47209d
      x-ms-routing-request-id:
      - WESTUS2:20190506T172908Z:985090da-b246-48b4-963b-8f6d05e03129
    status:
      code: 200
      message: OK
- request:
    body: mock_body
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '114'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases/cctestdb/backupLongTermRetentionPolicies/default?api-version=2017-03-01-preview
  response:
    body:
      string: '{"operation":"UpsertDatabaseBackupArchivalPolicyV2","startTime":"2019-05-06T17:29:08.29Z"}'
    headers:
      Azure-AsyncOperation:
      - https://management.azure.com/subscriptions/d879ff4b-8bd9-4588-9bb0-51e2895e2456/resourceGroups/test_sqlserver/providers/Microsoft.Sql/locations/eastus2/longTermRetentionPolicyAzureAsyncOperation/0271ef77-7284-4ce4-80d8-2fbb6a6840c3?api-version=2017-03-01-preview
      Cache-Control:
      - no-cache
      Content-Length:
      - '90'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:11 GMT
      Expires:
      - '-1'
      Location:
      - https://management.azure.com/subscriptions/d879ff4b-8bd9-4588-9bb0-51e2895e2456/resourceGroups/test_sqlserver/providers/Microsoft.Sql/locations/eastus2/longTermRetentionPolicyOperationResults/0271ef77-7284-4ce4-80d8-2fbb6a6840c3?api-version=2017-03-01-preview
      Pragma:
      - no-cache
      Retry-After:
      - '15'
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - d39243f0-1602-4138-8fd0-a40d1e04e2bc
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-ms-request-id:
      - 0271ef77-7284-4ce4-80d8-2fbb6a6840c3
      x-ms-routing-request-id:
      - WESTUS2:20190506T172911Z:d39243f0-1602-4138-8fd0-a40d1e04e2bc
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/locations/eastus2/longTermRetentionPolicyAzureAsyncOperation/ea42f556-5106-4743-99b0-c129bfa71a47?api-version=2017-03-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR8ts
        kX/06KOdvQe7+fmDB9sP9g72t/en+f72wc7sYHvvfDL5NPv0YH9neu+j0UdNm7Xrhtq/Xk+neT7L
        Z/Jh3b4pGM7ezu7D7Z372zufvtl98Gjv4aOdg/Hew5/66Jf8P5uXWShqAAAA
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:22 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Retry-After:
      - '15'
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - e3e3be24-ec79-4635-b59a-69cdc545c59d
      x-ms-ratelimit-remaining-subscription-reads:
      - '11993'
      x-ms-request-id:
      - dc3ea8b8-3474-4de8-aabd-47bc7cd57810
      x-ms-routing-request-id:
      - WESTUS2:20190506T172923Z:e3e3be24-ec79-4635-b59a-69cdc545c59d
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases/cctestdb/backupLongTermRetentionPolicies/default?api-version=2017-03-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR6u6
        WuV1W+TNR49+8UdXef62vH6Vt/myLarlR48+erm78/Sj0UeLatnOO998+l364jrP6s7ne78PfQ5I
        X57/PvTtR4/2dn7J6KNiRt/dbdaTZloXK7Rt7s4OHjw8P9+fbB9MZg+39+8fHGw/nEx2tu/v5nsH
        D+/ne/v3P71b5021rqf553W1XjV327xpf//mF5VNXl/m9V3C/7KY5XVz94tiWldNdd6OX/+i8q58
        3dydTvGCbf+2Wq7vfbq+XOdNvX93lrXZJGty02w2uTvJpm/Xq+fV8uJNXi/suF5WZTElIt2d5efZ
        umxphMtskdOQ3Aft9QofxPFwXd3Qw0e/5P8BdmCbcZUBAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:22 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 390f10a1-3292-4fdb-8218-d36ce34db1ce
      x-ms-ratelimit-remaining-subscription-reads:
      - '11992'
      x-ms-request-id:
      - 2c84503c-f0d6-4689-b023-da321b26a753
      x-ms-routing-request-id:
      - WESTUS2:20190506T172923Z:390f10a1-3292-4fdb-8218-d36ce34db1ce
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases/cctestdb/backupLongTermRetentionPolicies/default?api-version=2017-03-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR6u6
        WuV1W+TNR49+8UdXef62vH6Vt/myLarlR48+erm78/Sj0UeLatnOO998+l364jrP6s7ne78PfQ5I
        X57/PvTtR4/2dn7J6KNiRt/dbdaTZloXK7Rt7s4OHjw8P9+fbB9MZg+39+8fHGw/nEx2tu/v5nsH
        D+/ne/v3P71b5021rqf553W1XjV327xpf//mF5VNXl/m9V3C/7KY5XVz94tiWldNdd6OX/+i8q58
        3dydTvGCbf+2Wq7vfbq+XOdNvX93lrXZJGty02w2uTvJpm/Xq+fV8uJNXi/suF5WZTElIt2d5efZ
        umxphMtskdOQ3Aft9QofxPFwXd3Qw0e/5P8BdmCbcZUBAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:24 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 430f9481-4006-4d17-9963-b4b1b0487468
      x-ms-ratelimit-remaining-subscription-reads:
      - '11979'
      x-ms-request-id:
      - 2b0d2cb7-76ab-47ac-bdfe-206560d24ed0
      x-ms-routing-request-id:
      - WESTUS2:20190506T172924Z:430f9481-4006-4d17-9963-b4b1b0487468
    status:
      code: 200
      message: OK
- request:
    body: mock_body
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '96'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases/cctestdb/backupLongTermRetentionPolicies/default?api-version=2017-03-01-preview
  response:
    body:
      string: '{"error":{"code":"InvalidParameterValue","message":"Invalid value given
        for parameter properties. Specify a valid parameter value."}}'
    headers:
      Cache-Control:
      - no-cache
      Content-Length:
      - '133'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Mon, 06 May 2019 17:29:24 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 5d9d884b-8e5c-433c-9888-d02b8df56238
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-ms-request-id:
      - b3a6a5de-04f1-452b-8646-09dbac2db3cd
      x-ms-routing-request-id:
      - WESTUS2:20190506T172925Z:5d9d884b-8e5c-433c-9888-d02b8df56238
    status:
      code: 400
      message: Bad Request
version: 1
