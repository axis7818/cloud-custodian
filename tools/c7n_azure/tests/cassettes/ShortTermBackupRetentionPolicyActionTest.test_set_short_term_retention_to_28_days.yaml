interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/providers/Microsoft.Sql/servers?api-version=2015-05-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR5dZ
        uc4/evS9X/zR22I5++jRR5e7e+Odj0YfrepqlddtkTcfPfrFH2WzRbEsmrbO2qp+Xl0US2o6XTdt
        NSuyJTW/zOumqPCpvt+0WUuAP3qVZ7Nr+vt8XZbXP7HOyuK8yGdPq0VWLF9kCzSZTtu8aZtfVDZ5
        TXDeVsv1vU/Xl+u8qffHs6zNJlmTj68Iv+qqGS/z9qNfMvqorKZZKz3mWdOumz3qpMAI7jbrSTOt
        ixW+bu7ODh48PD/fn2wfTGYPt/fvHxxsP5xMdrbv7+Z7Bw/v53v79z+9W+dNta6n+ed1tV41d4HP
        728Ruku0uCxmNMK7XxTTumqq83b8+heVd+Xr5u6mARBWy5uHSa3a6xVaRXv46Jd8/5f8P1Clfeis
        AQAA
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 02 May 2019 18:31:42 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 4a1442c9-3eae-4332-ba83-5d0695383110
      x-ms-ratelimit-remaining-subscription-reads:
      - '11972'
      x-ms-request-id:
      - 750adbd0-86ab-45ad-b2db-52156f228dc1
      x-ms-routing-request-id:
      - WESTUS2:20190502T183142Z:4a1442c9-3eae-4332-ba83-5d0695383110
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases?api-version=2017-10-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR5dZ
        uc4/evS9X/xR83b90aNf/NEyW9DfH71us+Usq2cfjT5qi7wOP5lmq2xatNcfPdrd+SWjj94Wyxk1
        uNzdG++M1g21Hn20qqtVXtOrDYBOq7LM2qJaUrPXP/H8939Ofyx3f//P82VeZ+Xvf/Jy9/c/Ofv9
        j1/Ti4vs3eviB/mT6xav7n16sH/v/v79T3d2dkYfNW3WrunTj75clsUyp9azrM0mWZOfAYH797Od
        nemnD7c/nc2y7f3ZZHf7IL832c4fZPv3750/mO3cP6B3pnVO3VfLp1mLke7t7D7c3rm/vbP7Zvfh
        o73dR/cejnd27/0UWq7rOl+2r/P6spjmX05+Op+2xWX+Qkm0Q03q/Bet86bNZ5sazfLzbF0SnGkF
        El4/r6aMAX0/JfhEAhoVdUeDKauLk9sT6wfVMn+Vz9YEddl+9Og8K5t89FGe1SURvn1F/6/qPDrO
        ezuPdg/G9/cfYJxEkNnraVai2dOiySZljmnGx6/yVVlMs5NqjQ5oDgxNvia3ELuUbvR51tCE7lGj
        AhN4t1lPmmldrPB1c3d28ODh+fn+ZPtgMnu4vX//4GD74WSys31/N987eHg/3yO+uFvnTbWup/nn
        dbVeNXeJa9rfv/lFRIf6Mq/vEhteFrO8bu5+UUzrqqnO2/HrX1Tela+bu9MpXrDt31bL9b1P15c0
        pfX+XcNcaFZWy4s2rxd13tLoCb3ZhLDW4Q993V6v8HW8awv9o18y6krfyzpfFOsFQAg53QceNffu
        EzV/NoVvd//B/sG9T/cPbhQ9ajm5N83ubU/Pd3a393d37m1PPt3d3d7Zm+zf39vJP304Y1YglgIm
        UZbc23u0fzDe32GWNGxGxIpI1ctdanKT6HGj/xeK3t7+o53d8b0HrGKIIFb0TpfDkrdLOCpJvh6n
        EKv8f1Lw0IyFSQfsffK1xev1NbENSKQ0s387kvXsWmPaLLJldpHPnlCj/5fRjZCj178Jyb+3t7e7
        t0fWYY80/g2i/+n57sEs393b3skOJtv7+YOd7QnZz+2DB9OHewfTbHLw8CG9s1n0dx7tfzr+9BaS
        L1MFxr1J/F3LH7IOoIFakf561pQxp1doHgfZk/jz/4PyvCA8aUxWmu3ft5Xl7/+S/wdjpQSmtAoA
        AA==
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 02 May 2019 18:31:42 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 3f84c9cd-dabf-4cdb-a849-d0972c60721b
      x-ms-ratelimit-remaining-subscription-reads:
      - '11987'
      x-ms-request-id:
      - 99cf5745-2df5-4e8a-a5d3-a08fc3b907f8
      x-ms-routing-request-id:
      - WESTUS2:20190502T183143Z:3f84c9cd-dabf-4cdb-a849-d0972c60721b
    status:
      code: 200
      message: OK
- request:
    body: mock_body
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases/cctestdb/backupShortTermRetentionPolicies/default?api-version=2017-10-01-preview
  response:
    body:
      string: '{"operation":"UpdateLogicalDatabase","startTime":"2019-05-02T18:31:43.657Z"}'
    headers:
      Azure-AsyncOperation:
      - https://management.azure.com/subscriptions/d879ff4b-8bd9-4588-9bb0-51e2895e2456/resourceGroups/test_sqlserver/providers/Microsoft.Sql/locations/eastus2/shortTermRetentionPolicyAzureAsyncOperation/0c17a8d5-2fdb-4e62-8abb-1a0c4a64bfd0?api-version=2017-10-01-preview
      Cache-Control:
      - no-cache
      Content-Length:
      - '76'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 02 May 2019 18:31:43 GMT
      Expires:
      - '-1'
      Location:
      - https://management.azure.com/subscriptions/d879ff4b-8bd9-4588-9bb0-51e2895e2456/resourceGroups/test_sqlserver/providers/Microsoft.Sql/locations/eastus2/shortTermRetentionPolicyOperationResults/0c17a8d5-2fdb-4e62-8abb-1a0c4a64bfd0?api-version=2017-10-01-preview
      Pragma:
      - no-cache
      Retry-After:
      - '15'
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - f071b32c-17a7-4a81-a6e8-6e36c5eba606
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-ms-request-id:
      - 67e98e48-533c-4395-8bbf-217344311ec8
      x-ms-routing-request-id:
      - WESTUS2:20190502T183143Z:f071b32c-17a7-4a81-a6e8-6e36c5eba606
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases/cctestdb/backupShortTermRetentionPolicies/default?api-version=2017-10-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR6u6
        WuV1W+TNR49+8Ud13ubLtqiWT7Nr+mB3/5eMPipmHz366G6znjTTuljhy+bu7ODBw/Pz/cn2wWT2
        cHv//sHB9sPJZGf7/m6+d/Dwfr63f//Tu3XeVOt6mn9eV+tVc7fNm/b3b35R2eT1ZV7fpY4vi1le
        N3e/KKZ11VTn7fj1LyrvytfN3ekUL9j2b6vl+t6n68t13tT7d2dZm02yJjfNZpO7k2z6dr16Pa/q
        9k1eL16ZkbysymJKw7s7y8+zddl+NPpomS1yGpP7oL1e4YM4Iq6vm7r46Jf8P421PJRQAQAA
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 02 May 2019 18:31:43 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 0ebd531e-d8d9-48c6-b359-c73a9fb4043a
      x-ms-ratelimit-remaining-subscription-reads:
      - '11983'
      x-ms-request-id:
      - 952f8e4c-c881-4a0b-bbac-d97fde86664d
      x-ms-routing-request-id:
      - WESTUS2:20190502T183143Z:0ebd531e-d8d9-48c6-b359-c73a9fb4043a
    status:
      code: 200
      message: OK
- request:
    body: mock_body
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: PATCH
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases/cctestdb/backupShortTermRetentionPolicies/default?api-version=2017-10-01-preview
  response:
    body:
      string: '{"operation":"UpdateLogicalDatabase","startTime":"2019-05-02T18:31:44.417Z"}'
    headers:
      Azure-AsyncOperation:
      - https://management.azure.com/subscriptions/d879ff4b-8bd9-4588-9bb0-51e2895e2456/resourceGroups/test_sqlserver/providers/Microsoft.Sql/locations/eastus2/shortTermRetentionPolicyAzureAsyncOperation/67e98e48-533c-4395-8bbf-217344311ec8?api-version=2017-10-01-preview
      Cache-Control:
      - no-cache
      Content-Length:
      - '76'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 02 May 2019 18:31:44 GMT
      Expires:
      - '-1'
      Location:
      - https://management.azure.com/subscriptions/d879ff4b-8bd9-4588-9bb0-51e2895e2456/resourceGroups/test_sqlserver/providers/Microsoft.Sql/locations/eastus2/shortTermRetentionPolicyOperationResults/67e98e48-533c-4395-8bbf-217344311ec8?api-version=2017-10-01-preview
      Pragma:
      - no-cache
      Retry-After:
      - '15'
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 31a7cceb-87cc-4622-8039-7a97f15be30e
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-ms-request-id:
      - a8ffe9e4-d7b6-478e-b35e-785abad26ac9
      x-ms-routing-request-id:
      - WESTUS2:20190502T183144Z:31a7cceb-87cc-4622-8039-7a97f15be30e
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/locations/eastus2/shortTermRetentionPolicyAzureAsyncOperation/ea42f556-5106-4743-99b0-c129bfa71a47?api-version=2017-10-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR8ts
        kX/06KNPH+QPD/L9g+379+5Nt/fvPby/fTCZnG/v7T64t79/b3c3nx58NPqoabN23VD71+vpNM9n
        +Uw+rNs3BcPZ29l9uL1zf3tn783uwaN7u4/298f7uw9+6qNf8v8A+KIShWsAAAA=
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 02 May 2019 18:31:59 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Retry-After:
      - '15'
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - 9e20ebe7-6cec-4d46-ab94-60980861bfc1
      x-ms-ratelimit-remaining-subscription-reads:
      - '11981'
      x-ms-request-id:
      - 45e27e1d-b5e4-4607-92d0-4e36a44498c3
      x-ms-routing-request-id:
      - WESTUS2:20190502T183200Z:9e20ebe7-6cec-4d46-ab94-60980861bfc1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Darwin-18.5.0-x86_64-i386-64bit) msrest/0.6.6 msrest_azure/0.6.0
        azure-mgmt-sql/0.12.0 Azure-SDK-For-Python
    method: GET
    uri: https://management.azure.com/subscriptions/ea42f556-5106-4743-99b0-c129bfa71a47/resourceGroups/test_sqlserver/providers/Microsoft.Sql/servers/cctestsqlserverkonu36uvuesr4/databases/cctestdb/backupShortTermRetentionPolicies/default?api-version=2017-10-01-preview
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR6u6
        WuV1W+TNR49+8Ud13ubLtqiWT7Nr+mB3/5eMPipmHz366G6znjTTuljhy+bu7ODBw/Pz/cn2wWT2
        cHv//sHB9sPJZGf7/m6+d/Dwfr63f//Tu3XeVOt6mn9eV+tVc7fNm/b3b35R2eT1ZV7fpY4vi1le
        N3e/KKZ11VTn7fj1LyrvytfN3ekUL9j2b6vl+t6n68t13tT7d2dZm02yJjfNZpO7k2z6dr16Pa/q
        9k1eL16ZkbysymJKw7s7y8+zddl+NPpomS1yGpP7oL1e4YM4Iq6vm7r46Jf8P421PJRQAQAA
    headers:
      Cache-Control:
      - no-cache
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 02 May 2019 18:32:00 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Server:
      - Microsoft-HTTPAPI/2.0
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      x-ms-correlation-request-id:
      - d450f7ff-fb64-4254-9ebd-f632c850a981
      x-ms-ratelimit-remaining-subscription-reads:
      - '11985'
      x-ms-request-id:
      - 1c01ea29-4b9e-4416-943d-658879b1ffea
      x-ms-routing-request-id:
      - WESTUS2:20190502T183200Z:d450f7ff-fb64-4254-9ebd-f632c850a981
    status:
      code: 200
      message: OK
version: 1
